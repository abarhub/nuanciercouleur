<!DOCTYPE html>
<html>

<head>

    <style>
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
          }

          .box {
            min-width: 50px;
            min-height: 50px;
          }

        </style>

</head>

<body>

    <h1>My First Heading</h1>

    <p>My first paragraph.</p>
    <p id="demo">My first paragraph.</p>

    <div id="container" class="container">

    </div>

</body>
<script>
    document.getElementById("demo").innerHTML = "Hello JavaScript!";

    function getNo(min,max,no, nbElements){
        let res= min+((max-min)/nbElements)*(no+1);
        console.log('getNo',res,min,max,no, nbElements);
        return res;
    }

    function getListColor(max) {
        let tab = [];
        let decoupeSaturation = 5;
        let decoupeLuminance = 5;
        const n = Math.ceil(360 / max);

        if(max<20){
            decoupeSaturation = 1;
        } else if(max<50){
            decoupeSaturation = 2;
        } else {
            decoupeSaturation = 3;
        }

        let tab2=[];
        for(let i=0;i<decoupeSaturation;i++){
            for(let j=0;j<decoupeLuminance;j++){
                tab2.push([i,j]);
            }
        }

        for (let i = 0; i < tab2.length; i++) {
            let saturation = '';
            let luminance = '';
            let saturationNo=tab2[i][0];
            let luminanceNo=tab2[i][1];
            saturation=getNo(30,90,saturationNo,decoupeSaturation)+'%';
            luminance=getNo(30,90,luminanceNo,decoupeLuminance)+'%';
            /*if (saturationNo === 0) {
                saturation = '30%';
            } else if (saturationNo === 1) {
                saturation = '50%';
            } else {
                saturation = '70%';
            }
            if (luminanceNo === 0) {
                luminance = '30%';
            } else if (luminanceNo === 1) {
                luminance = '50%';
            } else {
                luminance = '70%';
            }*/
            console.log('i=',i,'saturation='+saturation,'luminance=',luminance);
            let no = 0;
            for (let j = 0; j < Math.ceil(max); j++) {
                tab.push('hsl(' + (n * j) + ',' + saturation + ','+luminance+')');
            }
        }
        return tab;
    }

    function num(nb) {
        let tabColor=getListColor(nb);
        let divRoot = document.getElementById("container");
        for (let i = 0; i < nb; i++) {
            let tag = document.createElement("div");
            var text = document.createTextNode("A");
            tag.classList.add("box");
            tag.appendChild(text);
            //tag.style.backgroundColor='red';
            tag.style.backgroundColor=tabColor[i];
            divRoot.appendChild(tag);
        }
    }

    console.log('test1');
    num(100);
    console.log('test2');

</script>

</html>